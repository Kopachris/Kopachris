import re

## Description stored in db.bot_modules
description = "The answer"

## Prefix stored in db.bot_modules
## Each module should have its own prefix for bot_vars entries
prefix = "42_"

## Event type handled by this module
event_type = "PRIVMSG"

## Additional global vars
#H_HTTP = {'User-Agent': 'Mozilla/5.0 (X11; U; Linux i686) Gecko/20071127 Firefox/2.0.0.11'}
#G_URL = 'http://www.google.com/search?q={}&btnI'

def init(db):
    pass


def remove(db):
    pass


def run(bot, event, db):
    m = event.message.lower()
    regex = re.compile('[!"#$%&\'()*+,./:;<=>?@\\^_`{|}~-]')
    m = str(regex.sub('', m)).split()
    #bot.bot_reply(event, m)
    ms = set(m)
    q = {'what', 'the', 'life', 'universe', 'everthing'}
    #q = set(q)
    #bot.bot_reply(event, m)
    if event.source == 'Kopachris' and event.target == 'BotenAlfred':
        bot.bot_reply(event, q)
        bot.bot_reply(event, m)
    if q <= ms and ({'meaning'} in ms or {'answer'} in ms):
        bot.bot_reply(event, "I think I've told you enough times that the answer is 42.  You imbecile.")
